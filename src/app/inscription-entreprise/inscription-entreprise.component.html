<div class="container">
  <div class="card mt-3">
    <div class="card-header bg-info text-white">
      <h3>Création de l'espace entreprise</h3>
    </div>

  <div class="card-body" >
    <div class="form-group">
      <label for="nom">Nom Entreprise* :</label>
      <input type="text" class="form-control" name="nom" id="nom" [(ngModel)]="utilisateur.entreprise.nom" required #nom="ngModel" >
      <div *ngIf="nom.invalid && (nom.dirty)"
           class="error">
        <div *ngIf="nom.errors.required" class="error">
          Nom de l'entreprise obligatoire
        </div>
      </div>
    </div>
    <div class="form-group">
      <label for="identifiant">Identifiant* :</label>
      <input type="text" class="form-control" name="identifiant" id="identifiant" [(ngModel)]="utilisateur.identifiant " required #identifiant="ngModel" >
      <div *ngIf="identifiant.invalid && (identifiant.dirty)"
           class="error">
        <div *ngIf="identifiant.errors.required" class="error">
          Identifiant obligatoire
        </div>
      </div>
    </div>
    <div class="form-group">
      <label for="mdp">Mot de passe* :</label>
      <input type="text" class="form-control" name="mdp" id="mdp" [(ngModel)]="utilisateur.mdp" required #mdp="ngModel" >
      <div *ngIf="mdp.invalid && (mdp.dirty)"
           class="error">
        <div *ngIf="mdp.errors.required" class="error">
          Mot de passe obligatoire
        </div>
        <div *ngIf="mdp.errors.minlength" class="error">
          Au moins 4 caractères
        </div>
      </div>
    </div>
    <div class="form-group">
      <label for="confirmation">Confirmation* :</label>
      <input type="text" class="form-control" name="confirmation" id="confirmation" [(ngModel)]="utilisateur.mdp" required #confirmation="ngModel" >
      <div *ngIf="confirmation.invalid && (confirmation.dirty) "
           class="error">
        <div *ngIf="confirmation.errors.required" class="error">Confirmation obligatoire</div>
        <div *ngIf="confirmation.errors.mustMatch" class="error">Confirmation invalide</div>
      </div>
    </div>
    <div class="form-group">
      <label for="email">Email* :</label>
      <input type="text" class="form-control" name="email" id="email" [(ngModel)]="utilisateur.email" required #email="ngModel" placeholder="exemple@sopra-steria.fr">
      <div *ngIf="email.invalid && (email.dirty)"
           class="error">
        <div *ngIf="email.errors.required" class="error">
          Courriel obligatoire
        </div>
      </div>
    </div>

    <div class="form-group">
      <label for="nomuser">Nom de l'administrateur* :</label>
      <input type="text" class="form-control" name="nomuser" id="nomuser" [(ngModel)]="utilisateur.nom " required #nomuser="ngModel">
      <div *ngIf="nomuser.invalid && (nomuser.dirty)"
           class="error">
        <div *ngIf="nomuser.errors.required" class="error">
          Nom obligatoire
        </div>
      </div>
    </div>
    <div class="form-group">
      <label for="prenomuser">Prenom* :</label>
      <input type="text" class="form-control" name="prenomuser" id="prenomuser" [(ngModel)]="utilisateur.prenom " required #prenomuser="ngModel" >
      <div *ngIf="prenomuser.invalid && (prenomuser.dirty)"
           class="error">
        <div *ngIf="prenomuser.errors.required" class="error">
          Prénom obligatoire
        </div>
      </div>
    </div>

    <div class="form-group">
      <label for="siret">SIRET* :</label>
      <input type="text" class="form-control" name="siret" id="siret"  [(ngModel)]="utilisateur.entreprise.siret" required #siret="ngModel" >
      <div *ngIf="siret.invalid && (siret.dirty)"
           class="error">
        <div *ngIf="siret.errors.required" class="error">
          SIRET obligatoire
        </div>
      </div>
    </div>

    <div class="form-group">
      <label for="rue">Rue* :</label>
      <input type="text" class="form-control" name="rue" id="rue" [(ngModel)]="utilisateur.entreprise.adresse.rue" required #rue="ngModel" >
      <div *ngIf="rue.invalid && (rue.dirty)"
           class="error">
        <div *ngIf="rue.errors.required" class="error">
          Rue obligatoire
        </div>
      </div>
    </div>
    <div class="form-group">
      <label for="codePostal">Code postal* :</label>
      <input type="text" class="form-control" name="codePostal" id="codePostal"  [(ngModel)]="utilisateur.entreprise.adresse.codePostal" required #codePostal="ngModel" >
      <div *ngIf="codePostal.invalid && (codePostal.dirty)"
           class="error">
        <div *ngIf="codePostal.errors.required" class="error">
          Code Postal obligatoire
        </div>
      </div>
    </div>
    <div class="form-group">
      <label for="ville">Ville* :</label>
      <input type="text" class="form-control" name="ville" id="ville" [(ngModel)]="utilisateur.entreprise.adresse.ville" required #ville="ngModel" >
      <div *ngIf="ville.invalid && (ville.dirty)"
           class="error">
        <div *ngIf="ville.errors.required" class="error">
          Ville obligatoire
        </div>
      </div>
    </div>

  <div class="form-group">
    <label for="telephone">Téléphone :</label>
    <input type="text" class="form-control" name="telephone" id="telephone"  [(ngModel)]="utilisateur.telephone">
  </div>
  <div class="form-group">
    <label for="tva">TVA* :</label>
    <input type="text" class="form-control" name="tva" id="tva"  [(ngModel)]="utilisateur.entreprise.tva" required #tva="ngModel" >
    <div *ngIf="tva.invalid && (tva.dirty)"
         class="error">
      <div *ngIf="tva.errors.required" class="error">
        TVA obligatoire
      </div>
    </div>
  </div>
    <div class="form-group">
      <label for="code">Code Entreprise* :</label>
      <input type="text" class="form-control" name="code" id="code"  [(ngModel)]="utilisateur.entreprise.codeEntreprise" required #code="ngModel" >
      <div *ngIf="code.invalid && (code.dirty)"
           class="error">
        <div *ngIf="code.errors.required" class="error">
          Code Entreprise obligatoire
        </div>
      </div>
    </div>
  </div>

  <div class="card-footer">
    <div class="btn-group btn-group-lg float-left">
      <h5><span class="badge badge-secondary">*Obligatoire</span></h5>
    </div>
    <div class="btn-group btn-group-lg float-right">
      <button style='font-size:24px' class="btn btn-primary" (click)="save()">S'inscrire <i class="fa fa-angle-double-right"></i></button>
    </div>
  </div>
</div>
</div>
